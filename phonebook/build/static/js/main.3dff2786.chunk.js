(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{22:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t.n(c),a=t(17),o=t.n(a),i=(t(22),t(8)),u=t(3),d=t(0),l=function(e){var n=e.person,t=e.deletePerson;return Object(d.jsxs)("li",{children:[n.name," ",n.number," ",Object(d.jsx)("button",{onClick:function(){return t(n.id,n.name)},children:" DELETE "})," "]},n.name)},s=function(e){return Object(d.jsxs)("div",{children:[" ",Object(d.jsxs)("form",{onSubmit:e.addName,children:[Object(d.jsxs)("div",{children:[" name: ",Object(d.jsx)("input",{value:e.newName,onChange:e.handlenameAdd})]}),Object(d.jsxs)("div",{children:[" number: ",Object(d.jsx)("input",{value:e.newNumber,onChange:e.handlenumberAdd})]}),Object(d.jsx)("button",{type:"submit",children:"add"})]}),"   "]})},b=function(e){return Object(d.jsxs)("div",{children:[" filter shown with ",Object(d.jsx)("input",{value:e.newFilter,onChange:e.handlefilterChange})," "]})},j=t(4),f=t.n(j),h="/api/persons",m=function(){return f.a.get(h).then((function(e){return e.data}))},O=function(e){return f.a.post(h,e).then((function(e){return e.data}))},p=function(e){var n="".concat(h,"/").concat(e.id);return f.a.put(n,e).then((function(e){return e.data}))},g=function(e){var n="".concat(h,"/").concat(e);return f.a.delete(n).then((function(e){return e.data}))},v=function(e){var n=e.message,t=e.errorStatus?{color:"black",background:"lightgrey",fontSize:18,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}:{color:"blue",background:"lightgrey",fontSize:18,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10};return null===n?null:Object(d.jsx)("div",{style:t,className:"error",children:n})},x=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(""),o=Object(u.a)(a,2),j=o[0],f=o[1],h=Object(c.useState)(""),x=Object(u.a)(h,2),w=x[0],S=x[1],C=Object(c.useState)(""),k=Object(u.a)(C,2),y=k[0],N=k[1],F=Object(c.useState)(null),T=Object(u.a)(F,2),E=T[0],P=T[1],A=Object(c.useState)(!1),B=Object(u.a)(A,2),D=B[0],L=B[1];Object(c.useEffect)((function(){console.log("effect"),m().then((function(e){r(e)}))}),[]);var U=""===y?t:t.filter((function(e){return e.name.toUpperCase().includes(y.toUpperCase())})),z=function(e,n){window.confirm("Would you like to delete "+n+"?")&&g(e).then((function(){var n=t.filter((function(n){return n.id!==e}));r(n)}))};return Object(d.jsxs)("div",{children:[Object(d.jsx)(v,{message:E,errorStatus:D}),Object(d.jsx)("h2",{children:"Phonebook"}),Object(d.jsxs)("div",{children:[" ",Object(d.jsx)(b,{newFilter:y,handlefilterChange:function(e){N(e.target.value)}})," "]}),Object(d.jsx)("h1",{children:" add a new "}),Object(d.jsx)("div",{children:Object(d.jsx)(s,{newName:j,newNumber:w,addName:function(e){e.preventDefault();var n=t.find((function(e){return e.name===j}));if(void 0===n)O({name:j,number:w}).then((function(e){r(t.concat(e)),console.log(e.name+"is added"),P("".concat(e.name," is added")),setTimeout((function(){return P(null)}),3e3)}));else if(window.confirm("".concat(n.name," is already added to phonebook, replace the old number with a new one?"))){var c=Object(i.a)(Object(i.a)({},n),{},{number:w});p(c).then((function(e){r(t.map((function(n){return n.id!==e.id?n:e}))),P("Updated '".concat(e.name,"'")),setTimeout((function(){P(null)}),5e3)})).catch((function(e){L(!0),P("Couldn't update '".concat(n.name,"'")),setTimeout((function(){P(null)}),5e3)}))}f(""),S("")},handlenameAdd:function(e){f(e.target.value)},handlenumberAdd:function(e){S(e.target.value)}})}),Object(d.jsx)("h2",{children:"Numbers"}),Object(d.jsx)("ul",{children:U.map((function(e){return Object(d.jsx)(l,{person:e,deletePerson:z},e.name)}))})]})},w=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,43)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(x,{})}),document.getElementById("root")),w()}},[[42,1,2]]]);
//# sourceMappingURL=main.3dff2786.chunk.js.map